local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Universal Aimbot | BARDIA HUB",
   LoadingTitle = "Restoring Everything...",
   LoadingSubtitle = "by BARDIA",
   ConfigurationSaving = { Enabled = true, FolderName = "BARDIA", FileName = "Config" },
   KeySystem = false
})

-- Ø³Ø±ÙˆÛŒØ³â€ŒÙ‡Ø§
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local Camera = workspace.CurrentCamera
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TeleportService = game:GetService("TeleportService")
local Lighting = game:GetService("Lighting")
local HttpService = game:GetService("HttpService")

-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª
local AimSettings = {
    Enabled = false,
    TeamCheck = false,
    WallCheck = false,
    FOV = 100,
    FOVColor = Color3.fromRGB(255, 255, 255),
    HitPart = "Head",
    HitboxEnabled = false,
    HitboxSize = 2
}

local ESP_Settings = {
    Enabled = false,
    ShowNames = false,
    ShowHealth = false,
    Color = Color3.fromRGB(255, 0, 0)
}

local SpecificTarget = "All"
local Flying = false
local FlySpeed = 50
local FlingEnabled = false
_G.FullBright = false
_G.InfJump = false

-- Ø§ÛŒØ¬Ø§Ø¯ FOV Circle
local FOVCircle = Drawing.new("Circle")
FOVCircle.Thickness = 2
FOVCircle.NumSides = 50
FOVCircle.Radius = AimSettings.FOV
FOVCircle.Filled = false
FOVCircle.Visible = true
FOVCircle.ZIndex = 999
FOVCircle.Transparency = 1
FOVCircle.Color = AimSettings.FOVColor

-- ØªØ§Ø¨Ø¹ Ù¾ÛŒØ¯Ø§ Ú©Ø±Ø¯Ù† Ù†Ø²Ø¯ÛŒÚ©â€ŒØªØ±ÛŒÙ† Ø¨Ø§Ø²ÛŒÚ©Ù†
local function getClosestPlayer()
    local closestPlayer = nil
    local shortestDistance = AimSettings.FOV
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character and player.Character:FindFirstChild(AimSettings.HitPart) then
            if SpecificTarget ~= "All" and player.Name ~= SpecificTarget then continue end
            if AimSettings.TeamCheck and player.Team == LocalPlayer.Team then continue end
            local pos, onScreen = Camera:WorldToViewportPoint(player.Character[AimSettings.HitPart].Position)
            if onScreen then
                local distance = (Vector2.new(pos.X, pos.Y) - Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)).Magnitude
                if distance < shortestDistance then
                    closestPlayer = player; shortestDistance = distance
                end
            end
        end
    end
    return closestPlayer
end

-- Ø±Ù†Ø¯Ø± Ù„ÙˆÙ¾ Ø§ØµÙ„ÛŒ
RunService.RenderStepped:Connect(function()
    FOVCircle.Position = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    FOVCircle.Radius = AimSettings.FOV
    FOVCircle.Visible = AimSettings.Enabled

    if AimSettings.Enabled then
        local target = getClosestPlayer()
        if target and target.Character and target.Character:FindFirstChild(AimSettings.HitPart) then
            Camera.CFrame = CFrame.new(Camera.CFrame.Position, target.Character[AimSettings.HitPart].Position)
        end
    end

    if Flying and LocalPlayer.Character then
        LocalPlayer.Character.HumanoidRootPart.Velocity = LocalPlayer.Character.Humanoid.MoveDirection * FlySpeed + Vector3.new(0, 2, 0)
    end

    if _G.FullBright then
        Lighting.Ambient = Color3.fromRGB(255, 255, 255)
        Lighting.Brightness = 2
    end

    if FlingEnabled and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hrp = LocalPlayer.Character.HumanoidRootPart
        local oldV = hrp.Velocity
        hrp.Velocity = oldV * 3 + Vector3.new(0, 5000, 0) 
        RunService.RenderStepped:Wait()
        hrp.Velocity = oldV
    end

    -- Hitbox Loop
    if AimSettings.HitboxEnabled then
        for _, player in pairs(Players:GetPlayers()) do
            if player ~= LocalPlayer and player.Character then
                for _, part in pairs(player.Character:GetChildren()) do
                    if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                        part.Size = Vector3.new(AimSettings.HitboxSize, AimSettings.HitboxSize, AimSettings.HitboxSize)
                        part.Transparency = 0.7
                        part.CanCollide = false
                        part.Massless = true
                    end
                end
            end
        end
    end

    -- ESP Loop
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer and player.Character then
            local highlight = player.Character:FindFirstChild("BardiaHighlight")
            if ESP_Settings.Enabled then
                if not highlight then highlight = Instance.new("Highlight", player.Character); highlight.Name = "BardiaHighlight" end
                highlight.FillColor = ESP_Settings.Color
            elseif highlight then highlight:Destroy() end

            local billboard = player.Character:FindFirstChild("BardiaESP")
            if ESP_Settings.Enabled and (ESP_Settings.ShowNames or ESP_Settings.ShowHealth) then
                if not billboard then
                    billboard = Instance.new("BillboardGui", player.Character); billboard.Name = "BardiaESP"
                    billboard.Size = UDim2.new(0, 200, 0, 50); billboard.Adornee = player.Character:FindFirstChild("Head"); billboard.AlwaysOnTop = true; billboard.ExtentsOffset = Vector3.new(0, 3, 0)
                    local label = Instance.new("TextLabel", billboard); label.Name = "InfoLabel"; label.BackgroundTransparency = 1; label.Size = UDim2.new(1, 0, 1, 0); label.Font = Enum.Font.SourceSansBold; label.TextSize = 14; label.TextColor3 = Color3.new(1, 1, 1); label.TextStrokeTransparency = 0
                end
                local h = player.Character:FindFirstChild("Humanoid") and math.floor(player.Character.Humanoid.Health) or 0
                local t = ""
                if ESP_Settings.ShowNames then t = t .. player.Name end
                if ESP_Settings.ShowHealth then t = t .. " [" .. h .. " HP]" end
                billboard.InfoLabel.Text = t
            elseif billboard then billboard:Destroy() end
        end
    end
end)

-- ØªØ¨â€ŒÙ‡Ø§
local AimTab = Window:CreateTab("ðŸŽ¯ Aimbot", 4483362458)
local MoveTab = Window:CreateTab("Movement", "move")
local VisualsTab = Window:CreateTab("Visuals (ESP)", "eye")
local MiscTab = Window:CreateTab("Misc", "settings")
local ServerTab = Window:CreateTab("Server", "server")
local TeleportTab = Window:CreateTab("Teleport", "map-pin")

--- AIMBOT ---
AimTab:CreateToggle({Name = "Aimbot Active", CurrentValue = false, Callback = function(v) AimSettings.Enabled = v end})
AimTab:CreateToggle({Name = "Team Check", CurrentValue = false, Callback = function(v) AimSettings.TeamCheck = v end})
AimTab:CreateToggle({Name = "Wall Check", CurrentValue = false, Callback = function(v) AimSettings.WallCheck = v end})
AimTab:CreateSlider({Name = "FOV Size", Range = {1, 1000}, Increment = 5, CurrentValue = 100, Callback = function(v) AimSettings.FOV = v end})
AimTab:CreateDropdown({Name = "Hit Part", Options = {"Head", "HumanoidRootPart", "UpperTorso"}, CurrentOption = {"Head"}, Callback = function(v) AimSettings.HitPart = v[1] end})
local TargetDrop = AimTab:CreateDropdown({Name = "Specific Target", Options = {"All"}, CurrentOption = {"All"}, Callback = function(v) SpecificTarget = v[1] end})
AimTab:CreateButton({Name = "Refresh List", Callback = function() local L = {"All"}; for _, v in pairs(Players:GetPlayers()) do if v ~= LocalPlayer then table.insert(L, v.Name) end end; TargetDrop:Refresh(L, true) end})

AimTab:CreateSection("Hitbox Mod (FIXED)")
AimTab:CreateToggle({Name = "Enable Hitbox", CurrentValue = false, Callback = function(v) AimSettings.HitboxEnabled = v end})
AimTab:CreateSlider({Name = "Hitbox Size", Range = {2, 100}, Increment = 1, CurrentValue = 2, Callback = function(v) AimSettings.HitboxSize = v end})

--- MOVEMENT ---
MoveTab:CreateSlider({Name = "WalkSpeed", Range = {16, 500}, Increment = 1, CurrentValue = 16, Callback = function(v) LocalPlayer.Character.Humanoid.WalkSpeed = v end})
MoveTab:CreateSlider({Name = "JumpPower", Range = {50, 1000}, Increment = 1, CurrentValue = 50, Callback = function(v) LocalPlayer.Character.Humanoid.UseJumpPower = true; LocalPlayer.Character.Humanoid.JumpPower = v end})
MoveTab:CreateToggle({Name = "FLY", CurrentValue = false, Callback = function(v) Flying = v end})
MoveTab:CreateToggle({Name = "INFINITE JUMP", CurrentValue = false, Callback = function(v) _G.InfJump = v; UserInputService.JumpRequest:Connect(function() if _G.InfJump then LocalPlayer.Character:FindFirstChildOfClass("Humanoid"):ChangeState("Jumping") end end) end})

--- VISUALS (ESP) ---
VisualsTab:CreateToggle({Name = "Enable ESP", CurrentValue = false, Callback = function(v) ESP_Settings.Enabled = v end})
VisualsTab:CreateToggle({Name = "Show Player Names", CurrentValue = false, Callback = function(v) ESP_Settings.ShowNames = v end})
VisualsTab:CreateToggle({Name = "Show Player Health", CurrentValue = false, Callback = function(v) ESP_Settings.ShowHealth = v end})
VisualsTab:CreateColorPicker({Name = "ESP Color", Color = Color3.fromRGB(255,0,0), Callback = function(v) ESP_Settings.Color = v end})

--- MISC ---
MiscTab:CreateToggle({Name = "WalkFling", CurrentValue = false, Callback = function(v) FlingEnabled = v end})
MiscTab:CreateToggle({Name = "Full Bright", CurrentValue = false, Callback = function(v) _G.FullBright = v end})
MiscTab:CreateButton({Name = "Remove Fog", Callback = function() pcall(function() Lighting.FogEnd = 999999 for _, v in pairs(Lighting:GetChildren()) do if v:IsA("Atmosphere") then v:Destroy() end end end) end})

--- SERVER ---
ServerTab:CreateButton({Name = "Rejoin Server", Callback = function() TeleportService:Teleport(game.PlaceId, LocalPlayer) end})
ServerTab:CreateButton({Name = "Server Hop", Callback = function() 
    local Api = "https://games.roblox.com/v1/games/" .. game.PlaceId .. "/servers/Public?sortOrder=Desc&limit=100"
    local _server = HttpService:JSONDecode(game:HttpGet(Api))
    for _, s in pairs(_server.data) do if s.playing < s.maxPlayers and s.id ~= game.JobId then TeleportService:TeleportToPlaceInstance(game.PlaceId, s.id, LocalPlayer) end end
end})
ServerTab:CreateButton({Name = "Copy Server ID", Callback = function() setclipboard(tostring(game.JobId)) Rayfield:Notify({Title="Server", Content="ID Copied!"}) end})
ServerTab:CreateInput({Name = "Join Server with ID", PlaceholderText = "Paste ID...", Callback = function(Text) TeleportService:TeleportToPlaceInstance(game.PlaceId, Text, LocalPlayer) end})

--- TELEPORT ---
local TP_Drop = TeleportTab:CreateDropdown({Name = "Select Player", Options = {"Refresh Needed"}, Callback = function(v) local Target = Players:FindFirstChild(v[1]); if Target then LocalPlayer.Character.HumanoidRootPart.CFrame = Target.Character.HumanoidRootPart.CFrame end end})
TeleportTab:CreateButton({Name = "Refresh Player List", Callback = function() local L = {}; for _, v in pairs(Players:GetPlayers()) do if v ~= LocalPlayer then table.insert(L, v.Name) end end; TP_Drop:Refresh(L, true) end})

Rayfield:Notify({Title = "Bardia HUB", Content = "Everything fixed and NO deletions!", Duration = 5})
